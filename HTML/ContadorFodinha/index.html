<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Jogadores</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .table-responsive {
            overflow-x: auto;
        }
        .btn-sm-custom {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            line-height: 1.5;
            border-radius: 0.2rem;
        }
        .counter {
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Nome do jogador" aria-label="Nome do Jogador" aria-describedby="button-addon2" id="playerName">
            <button class="btn btn-outline-primary btn-sm-custom" type="button" id="button-addon2">Adicionar</button>
        </div>
        <button class="btn btn-outline-success btn-sm-custom mb-3" type="button" id="startGameButton">Iniciar Jogo</button>
        <div id="counter" class="counter"></div>

        <div class="table-responsive">
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Nome</th>
                    <th scope="col">Pontuação</th>
                    <th scope="col">Ações</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider" id="playerTableBody">
                </tbody>
              </table>
        </div>
        <button class="btn btn-outline-danger btn-sm-custom mt-3" type="button" id="stopGameButton" style="display: none;">Parar Jogo</button>
    </div>

    <script>
        document.getElementById('button-addon2').addEventListener('click', function() {
            const playerName = document.getElementById('playerName').value;
            if (playerName) {
                addPlayer(playerName);
                document.getElementById('playerName').value = '';
            }
        });

        document.getElementById('startGameButton').addEventListener('click', function() {
            startGame();
        });

        document.getElementById('stopGameButton').addEventListener('click', function() {
            stopGame();
        });

        let players = [];
        let gameStarted = false;
        let timer;
        let seconds = 0;

        function addPlayer(name) {
            const score = gameStarted ? 3 : 5;
            const player = { name: name, score: score };
            players.push(player);
            updateTable();
        }

        function startGame() {
            gameStarted = true;
            document.getElementById('startGameButton').disabled = true;
            document.getElementById('stopGameButton').style.display = 'block';
            startCounter();
        }

        function stopGame() {
            gameStarted = false;
            document.getElementById('startGameButton').disabled = false;
            document.getElementById('stopGameButton').style.display = 'none';
            stopCounter();
        }

        function startCounter() {
            timer = setInterval(() => {
                seconds++;
                document.getElementById('counter').innerText = `Tempo: ${seconds} segundos`;
            }, 1000);
        }

        function stopCounter() {
            clearInterval(timer);
            seconds = 0;
            document.getElementById('counter').innerText = '';
        }

        function updateTable() {
            const tbody = document.getElementById('playerTableBody');
            tbody.innerHTML = '';
            players.forEach((player, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${player.name}</td>
                    <td>${player.score}</td>
                    <td>
                        <button class="btn btn-success btn-sm-custom" onclick="increaseScore(${index})">Adicionar Ponto</button>
                        <button class="btn btn-warning btn-sm-custom" onclick="decreaseScore(${index})">Diminuir Ponto</button>
                        <button class="btn btn-danger btn-sm-custom" onclick="removePlayer(${index})">Remover</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function increaseScore(index) {
            players[index].score += 1;
            updateTable();
        }

        function decreaseScore(index) {
            if (players[index].score > 0) {
                players[index].score -= 1;
            }
            updateTable();
        }

        function removePlayer(index) {
            players.splice(index, 1);
            updateTable();
        }
    </script>
</body>
</html>